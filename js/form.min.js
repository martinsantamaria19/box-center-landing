document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contactForm"),t=document.getElementById("submitBtn"),n=document.querySelector(".btn-text"),o=document.querySelector(".btn-loading"),r=document.getElementById("nombre"),s=document.getElementById("email"),a=document.getElementById("telefono"),i=document.getElementById("mensaje");function c(){t.disabled=!1,n.classList.remove("d-none"),o.classList.add("d-none")}function l(e){alert(e)}e.addEventListener("submit",async function(e){if(e.preventDefault(),!function(){const e=r.value.trim(),t=s.value.trim(),n=a.value.trim(),o=i.value.trim();if(e.length<2)return l("El nombre debe tener al menos 2 caracteres"),r.focus(),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return l("Por favor ingresa un email válido"),s.focus(),!1;if(n.length<8)return l("El teléfono debe tener al menos 8 dígitos"),a.focus(),!1;if(o.length<10)return l("El mensaje debe tener al menos 10 caracteres"),i.focus(),!1;return!0}())return;t.disabled=!0,n.classList.add("d-none"),o.classList.remove("d-none");const d=r.value.trim(),m=s.value.trim(),u=a.value.trim(),f=document.getElementById("mensaje").value.trim();try{const e=new URLSearchParams;e.append("nombre",d),e.append("email",m),e.append("telefono",u),e.append("mensaje",f);const t=await fetch("https://hook.us2.make.com/s8amsbgwg9lll1q7oxp1fbdw2vy2ny8v",{method:"POST",body:e});c(),t.ok||200===t.status?window.location.href="contacto-exitoso.html":alert("Hubo un problema al enviar tu mensaje. Por favor, intenta nuevamente.")}catch(e){c(),console.error("Error de conexión:",e),alert("Error de conexión. Por favor, verifica tu internet e intenta nuevamente.")}});let d=!1;const m=document.querySelector(".hero"),u=document.querySelector(".location-container"),f=document.querySelector(".features");window.addEventListener("scroll",function(){d||(window.requestAnimationFrame(function(){const e=window.pageYOffset||document.documentElement.scrollTop;if(e>100?m.classList.add("scrolled"):m.classList.remove("scrolled"),u&&f){const t=f.offsetTop,n=f.offsetHeight;e+window.innerHeight>t&&e<t+n?u.classList.add("scrolled"):u.classList.remove("scrolled")}d=!1}),d=!0)},{passive:!0});const g=document.querySelector(".scroll-indicator");g&&f&&g.addEventListener("click",function(){f.scrollIntoView({behavior:"smooth",block:"start"})})});