document.addEventListener('DOMContentLoaded',function(){const form=document.getElementById('contactForm'),submitBtn=document.getElementById('submitBtn'),btnText=document.querySelector('.btn-text'),btnLoading=document.querySelector('.btn-loading'),nombreInput=document.getElementById('nombre'),emailInput=document.getElementById('email'),telefonoInput=document.getElementById('telefono');form.addEventListener('submit',function(e){e.preventDefault();if(!validateForm())return;showLoadingState();const formData=new FormData(form);fetch(form.action,{method:'POST',body:formData,mode:'no-cors'}).then(()=>{hideLoadingState();window.location.href='contacto-exitoso.html'}).catch((error)=>{hideLoadingState();console.error('Error al enviar formulario:',error);showValidationError('Error de conexión. Verifica tu internet.')})});function validateForm(){const nombre=nombreInput.value.trim(),email=emailInput.value.trim(),telefono=telefonoInput.value.trim();if(nombre.length<2){showValidationError('El nombre debe tener al menos 2 caracteres');nombreInput.focus();return false}const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!emailRegex.test(email)){showValidationError('Por favor ingresa un email válido');emailInput.focus();return false}if(telefono.length<8){showValidationError('El teléfono debe tener al menos 8 dígitos');telefonoInput.focus();return false}return true}function showLoadingState(){submitBtn.disabled=true;btnText.classList.add('d-none');btnLoading.classList.remove('d-none')}function hideLoadingState(){submitBtn.disabled=false;btnText.classList.remove('d-none');btnLoading.classList.add('d-none')}function showValidationError(message){Swal.fire({icon:'warning',title:'Datos incorrectos',text:message,confirmButtonText:'Entendido',confirmButtonColor:'#ffbf00'})}let ticking=false;const hero=document.querySelector('.hero');window.addEventListener('scroll',function(){if(!ticking){window.requestAnimationFrame(function(){const scrollTop=window.pageYOffset||document.documentElement.scrollTop;if(scrollTop>100){hero.classList.add('scrolled')}else{hero.classList.remove('scrolled')}ticking=false});ticking=true}},{passive:true});const scrollIndicator=document.querySelector('.scroll-indicator'),featuresSection=document.querySelector('.features');if(scrollIndicator&&featuresSection){scrollIndicator.addEventListener('click',function(){featuresSection.scrollIntoView({behavior:'smooth',block:'start'})})}});
