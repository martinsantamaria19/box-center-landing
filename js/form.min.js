document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contactForm"),t=document.getElementById("submitBtn"),n=document.querySelector(".btn-text"),o=document.querySelector(".btn-loading"),r=document.getElementById("nombre"),s=document.getElementById("email"),a=document.getElementById("telefono");function c(){t.disabled=!1,n.classList.remove("d-none"),o.classList.add("d-none")}function l(e){alert(e)}e.addEventListener("submit",async function(e){if(e.preventDefault(),!function(){const e=r.value.trim(),t=s.value.trim(),n=a.value.trim(),o=mensajeInput.value.trim();if(e.length<2)return l("El nombre debe tener al menos 2 caracteres"),r.focus(),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return l("Por favor ingresa un email válido"),s.focus(),!1;if(n.length<8)return l("El teléfono debe tener al menos 8 dígitos"),a.focus(),!1;if(o.length<10)return l("El mensaje debe tener al menos 10 caracteres"),mensajeInput.focus(),!1;return!0}())return;t.disabled=!0,n.classList.add("d-none"),o.classList.remove("d-none");const i=r.value.trim(),d=s.value.trim(),m=a.value.trim(),u=document.getElementById("mensaje").value.trim();try{const e=new URLSearchParams;e.append("nombre",i),e.append("email",d),e.append("telefono",m),e.append("mensaje",u);const t=await fetch("https://hook.us2.make.com/s8amsbgwg9lll1q7oxp1fbdw2vy2ny8v",{method:"POST",body:e});c(),t.ok||200===t.status?window.location.href="contacto-exitoso.html":alert("Hubo un problema al enviar tu mensaje. Por favor, intenta nuevamente.")}catch(e){c(),console.error("Error de conexión:",e),alert("Error de conexión. Por favor, verifica tu internet e intenta nuevamente.")}});let i=!1;const d=document.querySelector(".hero"),m=document.querySelector(".location-container"),u=document.querySelector(".features");window.addEventListener("scroll",function(){i||(window.requestAnimationFrame(function(){const e=window.pageYOffset||document.documentElement.scrollTop;if(e>100?d.classList.add("scrolled"):d.classList.remove("scrolled"),m&&u){const t=u.offsetTop,n=u.offsetHeight;e+window.innerHeight>t&&e<t+n?m.classList.add("scrolled"):m.classList.remove("scrolled")}i=!1}),i=!0)},{passive:!0});const f=document.querySelector(".scroll-indicator");f&&u&&f.addEventListener("click",function(){u.scrollIntoView({behavior:"smooth",block:"start"})})});